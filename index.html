<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Iron Empire - Gym Tycoon</title>
<meta name="description" content="ConstruÃ­ tu imperio de gimnasios. Browser game idle/tycoon gratuito.">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ‹ï¸</text></svg>">
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Barlow+Condensed:wght@400;600;700&family=Barlow:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/styles.css">
</head>
<body>

<!-- AUTH SCREEN -->
<div class="auth-screen" id="authScreen">
  <div class="auth-container">
    <div class="auth-logo">
      <div style="font-size:56px;margin-bottom:8px;">ğŸ‹ï¸</div>
      <h1 class="auth-title">IRON EMPIRE</h1>
      <p class="auth-subtitle">ConstruÃ­ tu imperio de gimnasios</p>
    </div>

    <!-- LOGIN FORM -->
    <div class="auth-form" id="authLoginForm">
      <h3>Iniciar SesiÃ³n</h3>

      <div class="auth-social-buttons">
        <button class="auth-btn auth-btn-google" onclick="loginWithGoogle()">
          <svg width="18" height="18" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
          Continuar con Google
        </button>
        <button class="auth-btn auth-btn-facebook" onclick="loginWithFacebook()">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="white"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
          Continuar con Facebook
        </button>
      </div>

      <div class="auth-divider"><span>o con email</span></div>

      <input type="email" id="loginEmail" class="auth-input" placeholder="Email" autocomplete="email">
      <input type="password" id="loginPassword" class="auth-input" placeholder="ContraseÃ±a" autocomplete="current-password">

      <div class="auth-error" id="loginError"></div>

      <button class="auth-btn auth-btn-primary" onclick="loginWithEmail()">INICIAR SESIÃ“N</button>

      <div class="auth-links">
        <a href="#" onclick="showResetForm(); return false;">Â¿Olvidaste tu contraseÃ±a?</a>
        <a href="#" onclick="showRegisterForm(); return false;">Crear cuenta nueva</a>
      </div>
    </div>

    <!-- REGISTER FORM -->
    <div class="auth-form hidden" id="authRegisterForm">
      <h3>Crear Cuenta</h3>

      <div class="auth-social-buttons">
        <button class="auth-btn auth-btn-google" onclick="loginWithGoogle()">
          <svg width="18" height="18" viewBox="0 0 24 24"><path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92a5.06 5.06 0 0 1-2.2 3.32v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.1z"/><path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/><path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/><path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/></svg>
          Registrarse con Google
        </button>
        <button class="auth-btn auth-btn-facebook" onclick="loginWithFacebook()">
          <svg width="18" height="18" viewBox="0 0 24 24" fill="white"><path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669 1.312 0 2.686.235 2.686.235v2.953H15.83c-1.491 0-1.956.925-1.956 1.874v2.25h3.328l-.532 3.47h-2.796v8.385C19.612 23.027 24 18.062 24 12.073z"/></svg>
          Registrarse con Facebook
        </button>
      </div>

      <div class="auth-divider"><span>o con email</span></div>

      <input type="text" id="regUsername" class="auth-input" placeholder="Nombre de usuario" maxlength="20" autocomplete="username">
      <input type="email" id="regEmail" class="auth-input" placeholder="Email" autocomplete="email">
      <input type="password" id="regPassword" class="auth-input" placeholder="ContraseÃ±a (mÃ­n. 6 caracteres)" autocomplete="new-password">
      <input type="password" id="regPassword2" class="auth-input" placeholder="Repetir contraseÃ±a" autocomplete="new-password">

      <div class="auth-error" id="registerError"></div>

      <button class="auth-btn auth-btn-primary" onclick="registerWithEmail()">CREAR CUENTA</button>

      <div class="auth-links">
        <a href="#" onclick="showLoginForm(); return false;">Ya tengo cuenta</a>
      </div>
    </div>

    <!-- RESET PASSWORD FORM -->
    <div class="auth-form hidden" id="authResetForm">
      <h3>Recuperar ContraseÃ±a</h3>
      <p style="color:var(--text-dim);font-size:13px;margin-bottom:16px;">Te enviamos un email para restablecer tu contraseÃ±a.</p>

      <input type="email" id="resetEmail" class="auth-input" placeholder="Email" autocomplete="email">

      <div class="auth-error" id="resetError"></div>
      <div class="auth-success" id="resetSuccess"></div>

      <button class="auth-btn auth-btn-primary" onclick="resetPassword()">ENVIAR EMAIL</button>

      <div class="auth-links">
        <a href="#" onclick="showLoginForm(); return false;">Volver a login</a>
      </div>
    </div>

    <!-- Footer -->
    <div class="auth-guest">
      <p class="auth-guest-note">Tu progreso se guarda en la nube automÃ¡ticamente</p>
    </div>
  </div>
</div>

<!-- NAME MODAL -->
<div class="modal-overlay hidden" id="nameModal">
  <div class="modal">
    <div style="font-size:48px;margin-bottom:12px;">ğŸ‹ï¸</div>
    <h2>Iron Empire</h2>
    <p>EstÃ¡s a punto de abrir tu propio gimnasio. Â¿CÃ³mo se va a llamar?</p>
    <input type="text" id="gymNameInput" placeholder="Nombre del gimnasio..." maxlength="24" autofocus>
    <button class="btn btn-buy" onclick="startGame()" style="font-size:18px;padding:14px;">ğŸš€ ABRIR GIMNASIO</button>
  </div>
</div>

<!-- ACCOUNT SETTINGS MODAL -->
<div class="modal-overlay hidden" id="accountModal">
  <div class="modal" style="max-width:440px;">
    <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:16px;">
      <h2 style="margin:0;">ğŸ‘¤ Mi Cuenta</h2>
      <button class="btn btn-small btn-red" onclick="closeAccountSettings()" style="padding:6px 12px;">âœ•</button>
    </div>

    <div class="account-section">
      <label class="account-label">MÃ©todo de login</label>
      <div class="account-value" id="accountProviders">-</div>
    </div>

    <div class="account-section">
      <label class="account-label">Email</label>
      <div class="account-value" id="accountEmail">-</div>
    </div>

    <div class="account-section">
      <label class="account-label">Nombre de usuario</label>
      <div style="display:flex;gap:8px;">
        <input type="text" id="accountUsername" class="auth-input" maxlength="20" style="margin:0;flex:1;">
        <button class="btn btn-buy btn-small" onclick="saveAccountUsername()">GUARDAR</button>
      </div>
      <div class="account-error" id="usernameError"></div>
      <div class="account-success" id="usernameSuccess"></div>
    </div>

    <div id="accountPasswordSection">
      <div class="account-section">
        <label class="account-label">Cambiar ContraseÃ±a</label>
        <input type="password" id="accountCurrentPass" class="auth-input" placeholder="ContraseÃ±a actual">
        <input type="password" id="accountNewPass" class="auth-input" placeholder="Nueva contraseÃ±a (mÃ­n. 6)">
        <input type="password" id="accountNewPass2" class="auth-input" placeholder="Repetir nueva contraseÃ±a">
        <button class="btn btn-purple btn-small" onclick="changeAccountPassword()" style="margin-top:4px;">CAMBIAR CONTRASEÃ‘A</button>
        <div class="account-error" id="passwordError"></div>
        <div class="account-success" id="passwordSuccess"></div>
      </div>
    </div>

    <div class="account-section" style="margin-top:16px;padding-top:16px;border-top:1px solid var(--border);">
      <button class="btn btn-red btn-small" onclick="logoutUser()">ğŸšª CERRAR SESIÃ“N</button>
    </div>
  </div>
</div>

<!-- TUTORIAL OVERLAY -->
<div class="tutorial-overlay hidden" id="tutorialOverlay"></div>
<div class="tutorial-highlight" id="tutorialHighlight" style="display:none;"></div>
<div class="tutorial-tooltip" id="tutorialTooltip" style="display:none;"></div>

<!-- RANDOM EVENT OVERLAY -->
<div class="event-overlay hidden" id="eventOverlay">
  <div class="event-card" id="eventCard"></div>
</div>

<!-- HEADER -->
<header class="header">
  <div class="header-inner">
    <div class="logo" title="Iron Empire">
      <span class="logo-icon">ğŸ‹ï¸</span>
      <span>IRON EMPIRE</span>
    </div>
    <div class="stats-bar">
      <div class="stat-pill money" title="Dinero disponible para gastar">
        <span class="icon">ğŸ’°</span>
        <span class="value" id="moneyDisplay">$0</span>
        <div class="stat-tooltip">Tu plata disponible. ComprÃ¡ equipos, contratÃ¡ staff y lanzÃ¡ campaÃ±as.</div>
      </div>
      <div class="stat-pill members" title="Miembros activos de tu gym">
        <span class="icon">ğŸ‘¥</span>
        <span class="value" id="membersDisplay">0</span>
        <div class="stat-tooltip">Miembros activos. MÃ¡s equipos = mÃ¡s miembros. MÃ¡s miembros = mÃ¡s ingresos.</div>
      </div>
      <div class="stat-pill rep" title="ReputaciÃ³n de tu gym">
        <span class="icon">â­</span>
        <span class="value" id="repDisplay">0</span>
        <div class="stat-tooltip">ReputaciÃ³n. Sube con miembros, campaÃ±as y clases. Desbloquea competencias.</div>
      </div>
      <div class="stat-pill" title="Ingresos automÃ¡ticos por segundo">
        <span class="icon">ğŸ’µ</span>
        <span class="value" id="incomeDisplay">$0/s</span>
        <div class="stat-tooltip">Ingresos por segundo. GenerÃ¡s plata automÃ¡ticamente cada segundo.</div>
      </div>
      <div class="stat-pill time-pill" title="Tiempo de sesiÃ³n actual">
        <span class="icon">ğŸ•</span>
        <span class="value" id="sessionTimeDisplay">0:00</span>
        <div class="stat-tooltip">Tiempo de esta sesiÃ³n. El juego genera plata incluso offline (hasta 2hs).</div>
      </div>
      <div class="level-display" title="Tu nivel. SubÃ­ de nivel ganando XP para desbloquear mÃ¡s contenido.">
        <div class="level-badge" id="levelBadge">NIVEL 1</div>
        <div class="xp-bar-container">
          <div class="xp-bar-fill" id="xpBar" style="width:0%"></div>
          <span class="xp-bar-text" id="xpBarText">0%</span>
        </div>
        <div class="stat-tooltip level-tooltip">Nivel y experiencia. GanÃ¡s XP comprando equipos, haciendo clases, misiones y mÃ¡s. Cada nivel desbloquea nuevo contenido.</div>
      </div>
    </div>
  </div>
</header>

<!-- DAILY BONUS BANNER -->
<div class="daily-bonus-banner" id="dailyBonusContainer"></div>

<!-- NAV -->
<nav class="nav-tabs">
  <button class="nav-tab active" data-tab="gym"><span class="tab-icon">ğŸ </span>Gimnasio</button>
  <button class="nav-tab" data-tab="equipment"><span class="tab-icon">ğŸ‹ï¸</span>Equipamiento</button>
  <button class="nav-tab" data-tab="staff"><span class="tab-icon">ğŸ‘¤</span>Staff</button>
  <button class="nav-tab" data-tab="marketing"><span class="tab-icon">ğŸ“¢</span>Marketing</button>
  <button class="nav-tab" data-tab="classes"><span class="tab-icon">ğŸ§˜</span>Clases<span class="notification-dot hidden" id="dot-classes"></span></button>
  <button class="nav-tab" data-tab="missions"><span class="tab-icon">ğŸ“‹</span>Misiones<span class="notification-dot hidden" id="dot-missions"></span></button>
  <button class="nav-tab" data-tab="vip"><span class="tab-icon">â­</span>VIP<span class="notification-dot hidden" id="dot-vip"></span></button>
  <button class="nav-tab" data-tab="competitions"><span class="tab-icon">ğŸ†</span>Competencias</button>
  <button class="nav-tab" data-tab="skills"><span class="tab-icon">ğŸ”¬</span>Mejoras</button>
  <button class="nav-tab" data-tab="expansion"><span class="tab-icon">ğŸ—ï¸</span>ExpansiÃ³n</button>
  <button class="nav-tab" data-tab="achievements"><span class="tab-icon">ğŸ–ï¸</span>Logros</button>
  <button class="nav-tab" data-tab="prestige"><span class="tab-icon">ğŸŒŸ</span>Prestigio</button>
  <button class="nav-tab" data-tab="settings"><span class="tab-icon">âš™ï¸</span>Opciones</button>
</nav>

<!-- MAIN -->
<main class="main">

  <!-- GYM TAB -->
  <div class="tab-content active" id="tab-gym">
    <div class="gym-scene-container">
      <div class="gym-scene-header">
        <div class="gym-name-display" id="gymNameBanner">MI GIMNASIO</div>
        <div class="gym-tier" id="gymTier">Garage Gym</div>
      </div>
      <div class="gym-scene" id="gymScene">
        <!-- Floor -->
        <div class="gym-floor"></div>
        <!-- Wall -->
        <div class="gym-wall"></div>
        <!-- Equipment slots populated by JS -->
        <div class="gym-equipment-layer" id="gymEquipLayer"></div>
        <!-- People layer -->
        <div class="gym-people-layer" id="gymPeopleLayer"></div>
        <!-- Staff layer -->
        <div class="gym-staff-layer" id="gymStaffLayer"></div>
      </div>
    </div>

    <div class="stats-grid">
      <div class="stat-box">
        <div class="stat-box-label">Ingreso Neto / seg</div>
        <div class="stat-box-value" style="color:var(--green);" id="incomeBig">$0</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-label">Ingreso Bruto / seg</div>
        <div class="stat-box-value" style="color:var(--cyan);" id="grossIncomeBig">$0</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-label">Sueldos Staff</div>
        <div class="stat-box-value" style="color:var(--red);" id="salaryBig">$0/dÃ­a</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-label">Miembros Activos</div>
        <div class="stat-box-value" style="color:var(--blue);" id="membersBig">0</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-label">Capacidad</div>
        <div class="stat-box-value" style="color:var(--accent);" id="capacityBig">0 / 10</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-label">ReputaciÃ³n</div>
        <div class="stat-box-value" style="color:var(--purple);" id="repBig">0</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-label">Total Ganado</div>
        <div class="stat-box-value" style="color:var(--green);" id="totalEarnedBig">$0</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-label">Staff</div>
        <div class="stat-box-value" style="color:var(--orange);" id="staffCountBig">0 / 8</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-label">Equipamiento</div>
        <div class="stat-box-value" style="color:var(--pink);" id="equipCountBig">0 niveles</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-label">CategorÃ­a</div>
        <div class="stat-box-value" style="color:var(--accent);font-size:14px;" id="tierBig">ğŸ  Garage Gym</div>
      </div>
    </div>

    <div class="section-title">ğŸ“‹ Registro de Actividad</div>
    <div class="log-container" id="logContainer"></div>
  </div>

  <!-- EQUIPMENT TAB -->
  <div class="tab-content" id="tab-equipment">
    <div class="section-title">ğŸ‹ï¸ Equipamiento</div>
    <p class="section-subtitle">ComprÃ¡ y mejorÃ¡ equipamiento para atraer mÃ¡s miembros y generar mÃ¡s ingresos.</p>
    <div class="equipment-grid" id="equipmentGrid"></div>
  </div>

  <!-- STAFF TAB -->
  <div class="tab-content" id="tab-staff">
    <div class="section-title">ğŸ‘¤ Personal</div>
    <p class="section-subtitle">ContratÃ¡ staff para automatizar y mejorar tu gimnasio.</p>
    <div class="staff-grid" id="staffGrid"></div>
  </div>

  <!-- MARKETING TAB -->
  <div class="tab-content" id="tab-marketing">
    <div class="section-title">ğŸ“¢ Marketing</div>
    <p class="section-subtitle">LanzÃ¡ campaÃ±as de publicidad para atraer miembros y ganar reputaciÃ³n rÃ¡pidamente.</p>
    <div class="marketing-grid" id="marketingGrid"></div>
  </div>

  <!-- CLASSES TAB -->
  <div class="tab-content" id="tab-classes">
    <div class="section-title">ğŸ§˜ Clases Especiales</div>
    <p class="section-subtitle">DictÃ¡ clases para ganar plata extra, XP y reputaciÃ³n. Cada clase tiene duraciÃ³n y cooldown.</p>
    <div class="classes-grid" id="classesGrid"></div>
  </div>

  <!-- MISSIONS TAB -->
  <div class="tab-content" id="tab-missions">
    <div class="section-title">ğŸ“‹ Misiones Diarias</div>
    <p class="section-subtitle">CompletÃ¡ misiones cada dÃ­a para ganar rewards. Â¡Si completÃ¡s las 3, bonus extra!</p>
    <div id="missionsContainer"></div>
  </div>

  <!-- VIP TAB -->
  <div class="tab-content" id="tab-vip">
    <div class="section-title">â­ Miembros VIP</div>
    <p class="section-subtitle">Miembros especiales que buscan un gym con lo que necesitan. CumplÃ­ sus requisitos para grandes rewards.</p>
    <div id="vipContainer"></div>
  </div>

  <!-- COMPETITIONS TAB -->
  <div class="tab-content" id="tab-competitions">
    <div class="section-title">ğŸ† Competencias de Pesas</div>
    <p class="section-subtitle">EnviÃ¡ a tus miembros a competir por premios y reputaciÃ³n.</p>
    <div class="comp-list" id="compList"></div>
  </div>

  <!-- SKILLS TAB -->
  <div class="tab-content" id="tab-skills">
    <div class="section-title">ğŸ”¬ Ãrbol de Mejoras</div>
    <p class="section-subtitle">InvestigÃ¡ mejoras permanentes para tu gym. Las mejoras persisten incluso despuÃ©s del prestige.</p>
    <div id="skillTreeContainer"></div>
  </div>

  <!-- EXPANSION TAB -->
  <div class="tab-content" id="tab-expansion">
    <div class="section-title">ğŸ—ï¸ ExpansiÃ³n del Gym</div>
    <p class="section-subtitle">ConstruÃ­ nuevas zonas para aumentar capacidad, ingresos y desbloquear nuevas posibilidades.</p>
    <div id="expansionContainer"></div>
  </div>

  <!-- ACHIEVEMENTS TAB -->
  <div class="tab-content" id="tab-achievements">
    <div class="section-title">ğŸ–ï¸ Logros</div>
    <p class="section-subtitle">DesbloqueÃ¡ logros para ganar bonus de XP. Â¡IntentÃ¡ conseguirlos todos!</p>
    <div class="achievement-grid" id="achievementGrid"></div>
  </div>

  <!-- PRESTIGE TAB -->
  <div class="tab-content" id="tab-prestige">
    <div class="prestige-section">
      <div class="prestige-icon">ğŸŒŸ</div>
      <div class="prestige-title">FRANQUICIA</div>
      <div class="prestige-desc">
        ReiniciÃ¡ tu gimnasio y abrÃ­ una nueva sucursal. GanÃ¡s estrellas de franquicia que multiplican TODOS tus ingresos permanentemente.
      </div>
      <div class="prestige-stars" id="currentStars">Estrellas actuales: â­ 0</div>
      <div class="prestige-bonus" id="prestigeBonus">Multiplicador actual: x1.00</div>
      <div style="margin-bottom:16px;">
        <span style="color:var(--text-dim);">Estrellas que ganarÃ­as ahora: </span>
        <span style="color:var(--accent);font-weight:700;font-size:20px;" id="starsToGain">0</span>
      </div>
      <button class="btn btn-purple" style="max-width:300px;margin:0 auto;font-size:16px;padding:14px;" id="prestigeBtn" onclick="doPrestige()">
        ğŸŒŸ ABRIR FRANQUICIA
      </button>
      <p style="color:var(--text-muted);font-size:12px;margin-top:12px;">NecesitÃ¡s al menos $100,000 ganados en total</p>
    </div>
  </div>

  <!-- SETTINGS TAB -->
  <div class="tab-content" id="tab-settings">
    <div class="section-title">âš™ï¸ Opciones</div>
    <div style="display:flex;flex-direction:column;gap:16px;max-width:500px;">

      <div class="stat-box" style="text-align:left;">
        <div class="stat-box-label" style="margin-bottom:4px;">Cuenta</div>
        <div id="accountBtnContainer" style="display:flex;gap:8px;flex-wrap:wrap;"></div>
      </div>

      <div class="stat-box" style="text-align:left;">
        <div class="stat-box-label" style="margin-bottom:4px;">Guardar / Cargar</div>
        <p style="font-size:13px;color:var(--text-dim);margin-bottom:12px;">Tu progreso se guarda automÃ¡ticamente cada 30 segundos.</p>
        <div style="display:flex;gap:8px;flex-wrap:wrap;">
          <button class="btn btn-buy btn-small" onclick="manualSave()">ğŸ’¾ GUARDAR</button>
          <button class="btn btn-cyan btn-small" onclick="exportSave()">ğŸ“¤ EXPORTAR</button>
          <button class="btn btn-purple btn-small" onclick="importSave()">ğŸ“¥ IMPORTAR</button>
        </div>
      </div>

      <div class="stat-box" style="text-align:left;">
        <div class="stat-box-label" style="margin-bottom:4px;">EstadÃ­sticas</div>
        <div style="font-size:13px;color:var(--text-dim);line-height:2;">
          <div>ğŸ• Tiempo jugado: <span style="color:var(--text);" id="statPlaytime">0</span></div>
          <div>ğŸ“… DÃ­as jugados: <span style="color:var(--text);" id="statDays">0</span></div>
          <div>ğŸ§˜ Clases completadas: <span style="color:var(--text);" id="statClasses">0</span></div>
          <div>ğŸ“¢ CampaÃ±as lanzadas: <span style="color:var(--text);" id="statCampaigns">0</span></div>
          <div>ğŸ“‹ Misiones completadas: <span style="color:var(--text);" id="statMissions">0</span></div>
          <div>âš¡ Eventos resueltos: <span style="color:var(--text);" id="statEvents">0</span></div>
          <div>ğŸ”¬ Mejoras investigadas: <span style="color:var(--text);" id="statSkills">0</span></div>
          <div>ğŸ—ï¸ Zonas desbloqueadas: <span style="color:var(--text);" id="statZones">0</span></div>
          <div>â­ VIPs atendidos: <span style="color:var(--text);" id="statVips">0</span></div>
          <div>ğŸ”¥ Streak diario: <span style="color:var(--text);" id="statStreak">0</span></div>
        </div>
      </div>

      <div class="stat-box" style="text-align:left;">
        <div class="stat-box-label" style="margin-bottom:4px;">Tutorial</div>
        <button class="btn btn-buy btn-small" onclick="startTutorial()">ğŸ“ REPETIR TUTORIAL</button>
      </div>

      <div class="stat-box" style="text-align:left;">
        <div class="stat-box-label" style="margin-bottom:4px;color:var(--red);">Zona Peligrosa</div>
        <button class="btn btn-red btn-small" onclick="resetGame()">ğŸ—‘ï¸ BORRAR TODO</button>
      </div>
    </div>
  </div>

</main>

<!-- TOAST -->
<div class="toast" id="toast">
  <span class="toast-icon" id="toastIcon">ğŸ‰</span>
  <span class="toast-text" id="toastText">Â¡Logro desbloqueado!</span>
</div>

<!-- FIREBASE SDKs (compat mode - no bundler needed) -->
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.0/firebase-firestore-compat.js"></script>

<!-- GAME SCRIPTS -->
<script src="js/data.js"></script>
<script src="js/game.js"></script>
<script src="js/ui.js"></script>
<script src="js/systems.js"></script>
<script src="js/auth.js"></script>

<!-- Settings stats update -->
<script>
setInterval(function() {
  var el;
  el = document.getElementById('statPlaytime');
  if (el) el.textContent = fmtTime(game.stats.totalPlayTime);
  el = document.getElementById('statDays');
  if (el) el.textContent = game.stats.daysPlayed;
  el = document.getElementById('statClasses');
  if (el) el.textContent = game.stats.classesCompleted;
  el = document.getElementById('statCampaigns');
  if (el) el.textContent = game.stats.campaignsLaunched;
  el = document.getElementById('statMissions');
  if (el) el.textContent = game.stats.missionsCompleted;
  el = document.getElementById('statEvents');
  if (el) el.textContent = game.stats.eventsHandled;
  el = document.getElementById('statSkills');
  if (el) el.textContent = game.stats.skillsResearched;
  el = document.getElementById('statZones');
  if (el) el.textContent = game.stats.zonesUnlocked;
  el = document.getElementById('statVips');
  if (el) el.textContent = game.stats.vipsServed;
  el = document.getElementById('statStreak');
  if (el) el.textContent = game.dailyBonus.streak;
}, 2000);
</script>

</body>
</html>

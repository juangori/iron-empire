<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Iron Empire - Gym Tycoon</title>
<meta name="description" content="ConstruÃ­ tu imperio de gimnasios. Browser game idle/tycoon gratuito.">
<link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ‹ï¸</text></svg>">
<link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=Barlow+Condensed:wght@400;600;700&family=Barlow:wght@400;500;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="css/styles.css">
</head>
<body>

<!-- NAME MODAL -->
<div class="modal-overlay" id="nameModal">
  <div class="modal">
    <div style="font-size:48px;margin-bottom:12px;">ğŸ‹ï¸</div>
    <h2>Iron Empire</h2>
    <p>EstÃ¡s a punto de abrir tu propio gimnasio. Â¿CÃ³mo se va a llamar?</p>
    <input type="text" id="gymNameInput" placeholder="Nombre del gimnasio..." maxlength="24" autofocus>
    <button class="btn btn-buy" onclick="startGame()" style="font-size:18px;padding:14px;">ğŸš€ ABRIR GIMNASIO</button>
  </div>
</div>

<!-- TUTORIAL OVERLAY -->
<div class="tutorial-overlay hidden" id="tutorialOverlay"></div>
<div class="tutorial-highlight" id="tutorialHighlight" style="display:none;"></div>
<div class="tutorial-tooltip" id="tutorialTooltip" style="display:none;"></div>

<!-- RANDOM EVENT OVERLAY -->
<div class="event-overlay hidden" id="eventOverlay">
  <div class="event-card" id="eventCard"></div>
</div>

<!-- HEADER -->
<header class="header">
  <div class="header-inner">
    <div class="logo" title="Iron Empire">
      <span class="logo-icon">ğŸ‹ï¸</span>
      <span>IRON EMPIRE</span>
    </div>
    <div class="stats-bar">
      <div class="stat-pill money">
        <span class="icon">ğŸ’°</span>
        <span class="value" id="moneyDisplay">$0</span>
      </div>
      <div class="stat-pill members">
        <span class="icon">ğŸ‘¥</span>
        <span class="value" id="membersDisplay">0</span>
      </div>
      <div class="stat-pill rep">
        <span class="icon">â­</span>
        <span class="value" id="repDisplay">0</span>
      </div>
      <div class="stat-pill">
        <span class="icon">ğŸ’µ</span>
        <span class="value" id="incomeDisplay">$0/s</span>
      </div>
      <div class="level-display">
        <div class="level-badge" id="levelBadge">NIVEL 1</div>
        <div class="xp-bar-container">
          <div class="xp-bar-fill" id="xpBar" style="width:0%"></div>
        </div>
      </div>
    </div>
  </div>
</header>

<!-- DAILY BONUS BANNER -->
<div class="daily-bonus-banner" id="dailyBonusContainer"></div>

<!-- NAV -->
<nav class="nav-tabs">
  <button class="nav-tab active" data-tab="gym"><span class="tab-icon">ğŸ </span>Gimnasio</button>
  <button class="nav-tab" data-tab="equipment"><span class="tab-icon">ğŸ‹ï¸</span>Equipamiento</button>
  <button class="nav-tab" data-tab="staff"><span class="tab-icon">ğŸ‘¤</span>Staff</button>
  <button class="nav-tab" data-tab="marketing"><span class="tab-icon">ğŸ“¢</span>Marketing</button>
  <button class="nav-tab" data-tab="classes"><span class="tab-icon">ğŸ§˜</span>Clases<span class="notification-dot hidden" id="dot-classes"></span></button>
  <button class="nav-tab" data-tab="missions"><span class="tab-icon">ğŸ“‹</span>Misiones<span class="notification-dot hidden" id="dot-missions"></span></button>
  <button class="nav-tab" data-tab="competitions"><span class="tab-icon">ğŸ†</span>Competencias</button>
  <button class="nav-tab" data-tab="achievements"><span class="tab-icon">ğŸ–ï¸</span>Logros</button>
  <button class="nav-tab" data-tab="prestige"><span class="tab-icon">ğŸŒŸ</span>Prestigio</button>
  <button class="nav-tab" data-tab="settings"><span class="tab-icon">âš™ï¸</span>Opciones</button>
</nav>

<!-- MAIN -->
<main class="main">

  <!-- GYM TAB -->
  <div class="tab-content active" id="tab-gym">
    <div class="gym-visual">
      <div class="gym-name-display" id="gymNameBanner">MI GIMNASIO</div>
      <div class="gym-tier" id="gymTier">Garage Gym</div>
      <div class="gym-equipment-display" id="gymEquipIcons"></div>
    </div>

    <div class="stats-grid">
      <div class="stat-box">
        <div class="stat-box-label">Ingresos / seg</div>
        <div class="stat-box-value" style="color:var(--green);" id="incomeBig">$0</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-label">Miembros Activos</div>
        <div class="stat-box-value" style="color:var(--blue);" id="membersBig">0</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-label">Capacidad</div>
        <div class="stat-box-value" style="color:var(--accent);" id="capacityBig">0 / 10</div>
      </div>
      <div class="stat-box">
        <div class="stat-box-label">ReputaciÃ³n</div>
        <div class="stat-box-value" style="color:var(--purple);" id="repBig">0</div>
      </div>
    </div>

    <div class="section-title">ğŸ“‹ Registro de Actividad</div>
    <div class="log-container" id="logContainer"></div>
  </div>

  <!-- EQUIPMENT TAB -->
  <div class="tab-content" id="tab-equipment">
    <div class="section-title">ğŸ‹ï¸ Equipamiento</div>
    <p class="section-subtitle">ComprÃ¡ y mejorÃ¡ equipamiento para atraer mÃ¡s miembros y generar mÃ¡s ingresos.</p>
    <div class="equipment-grid" id="equipmentGrid"></div>
  </div>

  <!-- STAFF TAB -->
  <div class="tab-content" id="tab-staff">
    <div class="section-title">ğŸ‘¤ Personal</div>
    <p class="section-subtitle">ContratÃ¡ staff para automatizar y mejorar tu gimnasio.</p>
    <div class="staff-grid" id="staffGrid"></div>
  </div>

  <!-- MARKETING TAB -->
  <div class="tab-content" id="tab-marketing">
    <div class="section-title">ğŸ“¢ Marketing</div>
    <p class="section-subtitle">LanzÃ¡ campaÃ±as de publicidad para atraer miembros y ganar reputaciÃ³n rÃ¡pidamente.</p>
    <div class="marketing-grid" id="marketingGrid"></div>
  </div>

  <!-- CLASSES TAB -->
  <div class="tab-content" id="tab-classes">
    <div class="section-title">ğŸ§˜ Clases Especiales</div>
    <p class="section-subtitle">DictÃ¡ clases para ganar plata extra, XP y reputaciÃ³n. Cada clase tiene duraciÃ³n y cooldown.</p>
    <div class="classes-grid" id="classesGrid"></div>
  </div>

  <!-- MISSIONS TAB -->
  <div class="tab-content" id="tab-missions">
    <div class="section-title">ğŸ“‹ Misiones Diarias</div>
    <p class="section-subtitle">CompletÃ¡ misiones cada dÃ­a para ganar rewards. Â¡Si completÃ¡s las 3, bonus extra!</p>
    <div id="missionsContainer"></div>
  </div>

  <!-- COMPETITIONS TAB -->
  <div class="tab-content" id="tab-competitions">
    <div class="section-title">ğŸ† Competencias de Pesas</div>
    <p class="section-subtitle">EnviÃ¡ a tus miembros a competir por premios y reputaciÃ³n.</p>
    <div class="comp-list" id="compList"></div>
  </div>

  <!-- ACHIEVEMENTS TAB -->
  <div class="tab-content" id="tab-achievements">
    <div class="section-title">ğŸ–ï¸ Logros</div>
    <p class="section-subtitle">DesbloqueÃ¡ logros para ganar bonus de XP. Â¡IntentÃ¡ conseguirlos todos!</p>
    <div class="achievement-grid" id="achievementGrid"></div>
  </div>

  <!-- PRESTIGE TAB -->
  <div class="tab-content" id="tab-prestige">
    <div class="prestige-section">
      <div class="prestige-icon">ğŸŒŸ</div>
      <div class="prestige-title">FRANQUICIA</div>
      <div class="prestige-desc">
        ReiniciÃ¡ tu gimnasio y abrÃ­ una nueva sucursal. GanÃ¡s estrellas de franquicia que multiplican TODOS tus ingresos permanentemente.
      </div>
      <div class="prestige-stars" id="currentStars">Estrellas actuales: â­ 0</div>
      <div class="prestige-bonus" id="prestigeBonus">Multiplicador actual: x1.00</div>
      <div style="margin-bottom:16px;">
        <span style="color:var(--text-dim);">Estrellas que ganarÃ­as ahora: </span>
        <span style="color:var(--accent);font-weight:700;font-size:20px;" id="starsToGain">0</span>
      </div>
      <button class="btn btn-purple" style="max-width:300px;margin:0 auto;font-size:16px;padding:14px;" id="prestigeBtn" onclick="doPrestige()">
        ğŸŒŸ ABRIR FRANQUICIA
      </button>
      <p style="color:var(--text-muted);font-size:12px;margin-top:12px;">NecesitÃ¡s al menos $100,000 ganados en total</p>
    </div>
  </div>

  <!-- SETTINGS TAB -->
  <div class="tab-content" id="tab-settings">
    <div class="section-title">âš™ï¸ Opciones</div>
    <div style="display:flex;flex-direction:column;gap:16px;max-width:500px;">
      <div class="stat-box" style="text-align:left;">
        <div class="stat-box-label" style="margin-bottom:4px;">Guardar / Cargar</div>
        <p style="font-size:13px;color:var(--text-dim);margin-bottom:12px;">Tu progreso se guarda automÃ¡ticamente cada 30 segundos.</p>
        <div style="display:flex;gap:8px;flex-wrap:wrap;">
          <button class="btn btn-buy btn-small" onclick="saveGame(); showToast('ğŸ’¾','Â¡Partida guardada!')">ğŸ’¾ GUARDAR</button>
          <button class="btn btn-cyan btn-small" onclick="exportSave()">ğŸ“¤ EXPORTAR</button>
          <button class="btn btn-purple btn-small" onclick="importSave()">ğŸ“¥ IMPORTAR</button>
        </div>
      </div>

      <div class="stat-box" style="text-align:left;">
        <div class="stat-box-label" style="margin-bottom:4px;">EstadÃ­sticas</div>
        <div style="font-size:13px;color:var(--text-dim);line-height:2;">
          <div>ğŸ• Tiempo jugado: <span style="color:var(--text);" id="statPlaytime">0</span></div>
          <div>ğŸ“… DÃ­as jugados: <span style="color:var(--text);" id="statDays">0</span></div>
          <div>ğŸ§˜ Clases completadas: <span style="color:var(--text);" id="statClasses">0</span></div>
          <div>ğŸ“¢ CampaÃ±as lanzadas: <span style="color:var(--text);" id="statCampaigns">0</span></div>
          <div>ğŸ“‹ Misiones completadas: <span style="color:var(--text);" id="statMissions">0</span></div>
          <div>âš¡ Eventos resueltos: <span style="color:var(--text);" id="statEvents">0</span></div>
          <div>ğŸ”¥ Streak diario: <span style="color:var(--text);" id="statStreak">0</span></div>
        </div>
      </div>

      <div class="stat-box" style="text-align:left;">
        <div class="stat-box-label" style="margin-bottom:4px;">Tutorial</div>
        <button class="btn btn-buy btn-small" onclick="startTutorial()">ğŸ“ REPETIR TUTORIAL</button>
      </div>

      <div class="stat-box" style="text-align:left;">
        <div class="stat-box-label" style="margin-bottom:4px;color:var(--red);">Zona Peligrosa</div>
        <button class="btn btn-red btn-small" onclick="resetGame()">ğŸ—‘ï¸ BORRAR TODO</button>
      </div>
    </div>
  </div>

</main>

<!-- TOAST -->
<div class="toast" id="toast">
  <span class="toast-icon" id="toastIcon">ğŸ‰</span>
  <span class="toast-text" id="toastText">Â¡Logro desbloqueado!</span>
</div>

<!-- SCRIPTS -->
<script src="js/data.js"></script>
<script src="js/game.js"></script>
<script src="js/ui.js"></script>
<script src="js/systems.js"></script>

<!-- Settings stats update -->
<script>
setInterval(function() {
  var el;
  el = document.getElementById('statPlaytime');
  if (el) el.textContent = fmtTime(game.stats.totalPlayTime);
  el = document.getElementById('statDays');
  if (el) el.textContent = game.stats.daysPlayed;
  el = document.getElementById('statClasses');
  if (el) el.textContent = game.stats.classesCompleted;
  el = document.getElementById('statCampaigns');
  if (el) el.textContent = game.stats.campaignsLaunched;
  el = document.getElementById('statMissions');
  if (el) el.textContent = game.stats.missionsCompleted;
  el = document.getElementById('statEvents');
  if (el) el.textContent = game.stats.eventsHandled;
  el = document.getElementById('statStreak');
  if (el) el.textContent = game.dailyBonus.streak;
}, 2000);
</script>

</body>
</html>
